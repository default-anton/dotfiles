#!/usr/bin/env bash

set -e

case "$1" in
  mlx-audio)
    # Source: https://github.com/Blaizzy/mlx-audio
    uv tool install "mlx-audio[all]" --force --prerelease=allow --python 3.11 --with "numpy<2.0.0" --with "spacy<4.0.0" --with "typer>=0.9.0" --with "pip" --with "python-multipart"
    ;;
  claude)
    brew update && brew upgrade claude-code
    ;;
  pi)
    # Source: https://github.com/badlogic/pi-mono/tree/main/packages/coding-agent
    mise use --global npm:@mariozechner/pi-coding-agent@latest
    ;;
  codex)
    mise use --global npm:@openai/codex@latest
    ;;
  jagc)
    mise use --global npm:jagc@latest
    ;;
  gemini)
    mise use --global npm:@google/gemini-cli@latest
    ;;
  *)
    echo "Usage: update {mlx-audio|claude|pi|codex|jagc|gemini}"
    exit 1
    ;;
esac
